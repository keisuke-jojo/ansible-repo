---

- name: Testing importing group and host vars via Tower
  hosts: all
  gather_facts: no
  connection: local
  vars:
    bigip_admin_credentials: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          31363333393466643762343762323236643062623664333735353162613334633130623932623465
          6365653466336634306138313930313362663466643732660a666661336135616366613466656638
          36613736393939363935316231343563613133356432623435303634646333316662623535343337
          6162366533653530630a333261346666343137316139383062373433613862623261363335346238
          3561

  tasks:
    - name: Setting the hostname of the target BIGIP
      bigip_hostname:
        hostname: "{{ hostname }}"
        provider:
          user: admin
          server: "{{ ansible_host }}"
          password: "{{ bigip_admin_credentials }}"
          validate_certs: no
